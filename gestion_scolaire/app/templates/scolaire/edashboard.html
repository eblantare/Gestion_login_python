{% extends "base.html" %}
{% block title %}Dossiers école{% endblock %}

{% block body_class %}edashboard{% endblock %}

{% block styles %}
<link href="{{ url_for('auth.static', filename='css/e_dashboard.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container py-5">
    <h2 class="text-center text-white mb-5">DOSSIERS ÉCOLE</h2>

    <div class="row g-4 justify-content-center">
        {% set menus = [
            {'title':'Elèves','icon':'bi-people-fill','desc':'Consultez tous les élèves','url':url_for('eleves.liste_eleves'),'color':'bg-primary','sub':[]},
            {'title':'Notes','icon':'bi-journal-text','desc':'Gestion des notes','url':url_for('notes.liste_notes'),'color':'bg-success','sub':[]},
            {'title':'Matières','icon':'bi-book-fill','desc':'Consultez les matières','url':url_for('matieres.list_mat'),'color':'bg-warning','sub':[]},
            {'title':'Classes','icon':'bi-building','desc':'Consultez les classes','url':url_for('classes.liste_classes'),'color':'bg-info','sub':[]},
            {'title':'Appréciations','icon':'bi-chat-square-text','desc':'Consultez les appréciations','url':url_for('appreciations.liste_appr'),'color':'bg-secondary','sub':[]},
            {'title':'Paiements','icon':'bi-currency-dollar','desc':'Suivi des paiements','url':url_for('paiements.liste_paiements'),'color':'bg-danger','sub':[]},
            {'title':'Enseignants','icon':'bi-person-badge-fill','desc':'Consultez les enseignants','url':url_for('enseignants.liste_enseignants'),'color':'bg-dark','sub':[]},
            {'title':'Moyennes','icon':'bi-gear-fill','desc':'Gestion des moyennes','url':url_for('moyennes.liste_moyennes'),'color':'bg-tertiary','sub':[]},
            {'title':'Services','icon':'bi-gear-fill','desc':'Gestion des services','url':'#','color':'bg-primary','sub':[]}
        ] %}

        {% for menu in menus %}
        <div class="col-sm-6 col-md-4 col-lg-3">
            <div class="menu-card {{ menu.color }}" data-url="{{ menu.url }}">
                <i class="bi {{ menu.icon }}" style="font-size:2.5rem;margin-bottom:0.5rem;"></i>
                <h5>{{ menu.title }}</h5>
                <p>{{ menu.desc }}</p>

                {% if menu.sub %}
                <div class="menu-submenu">
                    {% for sub in menu.sub %}
                    <a href="{{ sub.url }}">{{ sub.title }}</a>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>
 <script src="{{ url_for('auth.static', filename='js/e_dashboard.js') }}"></script>
{% endblock %}