{% extends "base.html" %}
{% block content %}

<!-- Bouton pour ouvrir la modale -->
<div class="text-center my-5">
  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#registerModal">
    Créer un compte
  </button>
</div>

<!-- Modale Bootstrap -->
<div class="modal fade" id="registerModal"  aria-labelledby="registerModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title title-highlight" id="registerModalLabel">Créer un compte</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer" aria-disabled="true"></button>
      </div>

      <div class="modal-body">
        <form class="register-form" id="registerForm" method="POST" enctype="multipart/form-data" action="{{ url_for('auth.register') }}">
          <!-- {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %} -->
            <ul id="formErrors" class="mb-3 text-danger"></ul>
              <!-- <div class="flash-messages"> -->
                <!-- {% for category, message in messages %} -->
                  <!-- <div class="alert alert-{{ category }}">{{ message }}</div> -->
                <!-- {% endfor %} -->
              <!-- </div> -->
            <!-- {% endif %}
          {% endwith %} -->

          <div class="form-group mb-3">
            <!-- <label for="nom">Nom *</label> -->
            <input type="text" name="nom" class="form-control" placeholder="Nom" required >
          </div>

          <div class="form-group mb-3">
            <!-- <label for="prenoms">Prénoms *</label> -->
            <input type="text" name="prenoms" class="form-control" placeholder="Prénoms" required  >
          </div>
          <div class="mb-3">
            <label class="form-label text-dark">Sexe</label><br>
            <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="sexe" id="sexeM" value="M" required>
            <label class="form-check-label text-dark" for="sexeM">Masculin</label>
         </div>
         <div class="form-check form-check-inline">
           <input class="form-check-input" type="radio" name="sexe" id="sexeF" value="F">
           <label class="form-check-label text-dark" for="sexeF">Féminin</label>
         </div>
         </div>
          <div class="form-group mb-3">
            <!-- <label for="username">Nom d'utilisateur *</label> -->
            <input type="text" name="username" class="form-control" placeholder="Nom d'utilisateur" required >
          </div>

          <div class="form-group mb-3">
            <!-- <label for="telephone">Téléphone *</label> -->
             <div class="input-group">
               <input type="text" name="telephone" class="form-control" placeholder="Téléphone" required >
               <span class="input-group-text validation-icon"></span>
             </div>
          </div>

          <div class="form-group mb-3">
            <!-- <label for="email">Email *</label> -->
            <div class="input-group">
               <input type="email" name="email" class="form-control" placeholder="Email" required >
               <span class="input-group-text validation-icon"></span>
            </div>
          </div>

          <div class="form-group mb-3">
            <!-- <label for="password">Mot de passe *</label> -->
            <div class="input-group">
              <input type="password" name="password" class="form-control" placeholder="Mot de passe" required >
              <span class="input-group-text validation-icon"></span>
            </div>
            <small class="form-text text-muted">
              Doit contenir au moins 1 majuscule, 1 chiffre et 1 caractère spécial
            </small>
          </div>

          <div class="form-group mb-3">
            <!-- <label for="role">Role *</label> -->
            <select name="role" class="form-select"  required>
              <option value="">--Sélectionner--</option>
              <option value="admin">Administrateur</option>
              <option value="user">Utilisateur</option>
            </select>
          </div>

          <div class="form-group mb-3">
            <!-- <label for="photo">Photo de Profil</label> -->
            <input type="file" name="photo" class="form-control" accept=".jpg,.jpeg,.png,.gif" >
          </div>
           <button type="submit" class="btn btn-success w-100"  aria-disabled="true">Ajouter</button>
          <!-- <p class="mt-3 text-center login-link-text">
            Déjà un compte ?<a tabindex="-1" aria-disabled="true" href="{{ url_for('auth.login') }}">Se connecter</a>
          </p> -->
        </form>
      </div>
    </div>
  </div>
</div>
{% if request.endpoint == 'register' %}
    <script src="{{ url_for('static', filename='js/form-validation.js') }}"></script>
{% endif %}
<script src="{{ url_for('static', filename='js/form-validation.js') }}"></script>
{% endblock %}